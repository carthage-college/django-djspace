{% extends "account/base.html" %}
{% load url from future %}
{% load i18n %}
{% block extra_style %}
<style type="text/css" media="screen, projection">
    .linline li {display:inline; padding-right:3px;}
    #id_date_of_birth_day, #id_date_of_birth_year {width:90px;}
    #id_date_of_birth_month { width: 150px;}
</style>
{% endblock %}
{% block extra_javascript %}
    <script type="text/javascript">
        $(document).ready(function(){
            $('label[for="id_us_citizen_0"]').closest('ul').addClass('linline');
            $('label[for="id_disability_0"]').closest('ul').addClass('linline');
            $('label[for="id_gender_0"]').closest('ul').addClass('linline');
            $("#id_date_of_birth_month").parent().parent().find('h3').addClass("required");
        });
    </script>
{% endblock %}
{% block content_head %}
    <h1 id="page_title">
        {% trans "Register" %}
        <span id="secondary-dropdown"></span>
    </h1>
{% endblock %}
{% block content %}
<div class="forms-container">
    <p>
        {% blocktrans %}
            Already have an account? Then please
            <a href="{{ login_url }}"><strong>sign in</strong></a>.
        {% endblocktrans %}
    </p>
    <form class="signup form" id="signup_form" method="post"
        action="{% url 'account_signup' %}">
        {% csrf_token %}
        {% if redirect_field_value %}
            <input type="hidden" name="{{ redirect_field_name }}"
                value="{{ redirect_field_value }}" />
        {% endif %}
        {% if form.non_field_errors %}
            <p class="error">
            {% for e in form.non_field_errors %}
                {{e}}
            {% endfor %}
            </p>
        {% endif %}
        <fieldset class="blockLabels">
            <ol>
                {% for field in form %}
                    <li class="ctrlHolder">
                    <h3>{{ field.label_tag }}</h3>
                    {% if field.help_text %}
                    <p class="help">{{field.help_text}}</p>
                    {% endif %}
                    {% if field.name == "password1" and not field.errors %}
                    <p class="help">Password must be a minimum of 8 characters.</p>
                    {% endif %}
                    {% if field.errors %}
                    <div class="required warning">
                    <span class="error-message">{{ field.errors|join:", "}}</span>
                    {% else %}
                    <div{% if field.field.required %} class="required"{% endif %}>
                    {% endif %}
                    {{field}}
                    </div>
                    </li>
                {% endfor %}
            </ol>
        </fieldset>
        {% include "form_submit.inc.html" %}
    </form>
</div>
{% endblock %}
